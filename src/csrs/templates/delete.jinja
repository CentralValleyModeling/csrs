{% extends "base.jinja" %}
{% block title%} 
    Create - {{ page_label }}
{% endblock %}

{% block content %}
<div class="container-lg">
    <h1>{{ page_label }}</h1>
        {% set parent = request.path.rsplit("/", 1)[0]%}
        <!-- Links to other actions -->
        {% if action_links is defined%}
        <div class="d-grid gap-2 d-md-block">
            {% if "read" in action_links %}
            <a type="button" class="btn btn-outline-primary btn-sm" href="{{parent}}/read">
                Read Existing
            </a>
            {% endif %}
            {% if "create" in action_links %}
            <a type="button" class="btn btn-outline-success btn-sm" href="{{parent}}/create">
                Create New
            </a>
            {% endif %}
            {% if "update" in action_links %}
            <a type="button" class="btn btn-outline-info btn-sm" href="{{parent}}/update">
                Update Existing
            </a>
            {% endif %}
        </div>
        {% endif %}
        {% if error_message %}
        <div class="alert alert-danger alert-dismissible fade show my-4" role="alert">
            {{error_message}}
        </div>
        {% endif %}
        <!-- Create Form -->
        <form class="my-3" action="{{parent}}/delete" method="POST">
            <div class="form-floating my-2">
                <select class="form-select" id="form-select" required>
                    {% for opt in options %}
                    <option value="{{opt}}">{{opt}}</option>
                    {% endfor %}
                </select>
                <label for="form-select">Assumption to Delete</label>
            </div>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#popup">Delete</button>
            <!-- Modal -->
            <div class="modal fade" id="popup" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title fw-bold ">Please verify this action</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p class="my-0">You are about to remove an object from the database.</p>
                            <p class="my-0 text-danger">This cannot be un-done.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Go back</button>
                            <button type="submit" class="btn btn-danger">Yes, Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
</div>  
{% endblock %}