{# defined: id, request #}
{% import 'utils/buttons.jinja' as buttons %}

<div class="accordion-item">
    <!-- Header  -->
    <div class="accordion-header" id="accordion-header-{{id}}">
        <button class="accordion-button collapsed p-2" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{id}}" aria-expanded="false" aria-controls="collapse-{{id}}">
            {% block title %}{%endblock%}
        </button>
    </div>
    <div id="collapse-{{id}}" class="accordion-collapse collapse" aria-labelledby="accordion-header-{{id}}">
        {%if edit_on %}
        <form class="b-0" id="form-{{id}}" action="{{request.path}}/update" method="POST">
        {%-endif%}
        <div class="accordion-body p-1">
            <div class="row p-0 m-0">
                <!-- Edit Area -->
                <div class="col my-2">
                    {% block card %}
                    {% endblock %}
                </div>
                {% if edit_on %}
                <!-- Buttons -->
                <div class="col-1 m-1 p-0">
                    <div class="mx-1 p-0">{{ buttons.edit_button(id) }}</div>
                    <div class="mx-1 p-0">{{ buttons.submit_button(id, request.path + "/update") }}</div>
                    <div class="mx-1 p-0">{{ buttons.delete_button(id, request.path + "/delete") }}</div>
                </div>
                {%-endif%}
            </div>
        </div>
        {%if edit_on %}
        </form>
        {%-endif%}
    </div>  
</div>
